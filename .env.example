# ============================================================
# WishShare â€” Environment Configuration
# Copy this file to .env and fill in the values.
# ============================================================

# ---- Application URLs ----
BACKEND_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

# Comma-separated list of allowed CORS origins (must include frontend URL)
BACKEND_CORS_ORIGINS=http://localhost:3000

# ---- Environment ----
# "local" uses SameSite=Lax cookies (HTTP-safe)
# "production" uses SameSite=None; Secure cookies (required for cross-origin HTTPS)
ENVIRONMENT=local

# ---- Database ----
# SQLite (development):
POSTGRES_DSN=sqlite+aiosqlite:///./wishshare.db
# PostgreSQL (production, uncomment and fill):
# POSTGRES_DSN=postgresql+asyncpg://wishshare:password@localhost:5432/wishshare

# ---- Security (REQUIRED IN PRODUCTION) ----
# Generate with: openssl rand -hex 32
# MUST be at least 32 characters. App will refuse to start with the default value.
JWT_SECRET_KEY=CHANGE_ME

# ---- OAuth (optional) ----
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ---- Email / SMTP (optional, for password reset) ----
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@wishshare.local
SMTP_USE_TLS=true

# ---- Parser settings ----
# Comma-separated list of domains the URL parser is allowed to fetch (SSRF allowlist)
PARSER_BROWSER_DOMAINS=ozon.ru,wildberries.ru,wb.ru,lamoda.ru,dns-shop.ru,market.yandex.ru,yandex.ru,aliexpress.com,aliexpress.ru,amazon.com,amazon.ru
PARSER_BROWSER_FALLBACK=true
PARSER_BROWSER_TIMEOUT_MS=45000

# ---- Logging ----
LOG_LEVEL=INFO
# LOG_FILE=/var/log/wishshare.log
